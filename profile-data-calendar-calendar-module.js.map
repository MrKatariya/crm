{"version":3,"sources":["./src/app/profile-data/calendar/calendar.module.ts","./src/app/profile-data/calendar/calendar-routing.module.ts","./src/app/profile-data/calendar/calendar.component.ts","./src/app/profile-data/calendar/calendar.component.html"],"names":[],"mappings":"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","file":"profile-data-calendar-calendar-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CalendarRoutingModule } from './calendar-routing.module';\nimport { CalendarComponent } from './calendar.component';\nimport { AllModule } from \"../../modules/all.module\";\n\n\n@NgModule({\n  declarations: [CalendarComponent],\n  imports: [\n    AllModule,\n    CommonModule,\n    CalendarRoutingModule\n  ]\n})\nexport class CalendarModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CalendarComponent } from './calendar.component';\n\nconst routes: Routes = [{ path: '', component: CalendarComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CalendarRoutingModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { CalendarOptions, FullCalendarComponent } from '@fullcalendar/angular';\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {FormBuilder} from \"@angular/forms\";\nimport {FirestoreService} from \"../../services/firestore.service\";\nimport {CookieService} from \"ngx-cookie-service\";\n\n@Component({\n  selector: 'app-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.scss']\n})\nexport class CalendarComponent implements OnInit {\n@ViewChild(\"calendar\") calendarComponent:FullCalendarComponent;\n@ViewChild(\"viewEvent\") eventDialog:any;\n  constructor(\n    private alert:MatDialog,\n    private fb:FormBuilder,\n    private firestore:FirestoreService,\n    private cookie:CookieService\n  ) { }\n\n  ngOnInit(): void {\n    this.allEvents();\n  }\n  public checkedAll:boolean=true;\n  public currentDialog:any;\n  public eventDetails:any={\n    title:\"\",\n    description:\"\",\n    date:\"\"\n  };\n  public calendar:CalendarOptions={\n    initialView:'dayGridMonth',\n    events:[],\n    headerToolbar:{\n      start:\"prev next\",\n      end:\"title\"\n    },\n    buttonText:{\n      today:\"CurrentDate\"\n    }\n  };\n  public calendarCat:any[]=[\n    \"All\",\n    \"Personal\",\n    \"Business\",\n    \"Birthday\",\n    \"Holidy\",\n    \"Family\",\n    \"Others\"\n  ];\n  public filterCat:any[]=[\n    \"All\",\n    \"Personal\",\n    \"Business\",\n    \"Birthday\",\n    \"Holidy\",\n    \"Family\",\n    \"Others\"\n  ];\n\n  public eventForm=this.fb.group({\n    title:[''],\n    description:[''],\n    date:[''],\n    category:[''],\n    user_id:this.cookie.get('user_id')\n  });\n\n  addEvent(el:any):void{\n    this.currentDialog=this.alert.open(el);\n  }\n  createEvent():void{\n    const formdata=this.eventForm.value;\n    const myevent=this.firestore.insert(\"events\",formdata);\n    myevent.then((response:any)=>{\n      this.currentDialog.close();\n    });\n  }\n\n  allEvents():void{\n    const events= this.firestore.getDataByColumnName(\"events\",\"user_id\",this.cookie.get(\"user_id\"));\n    events.subscribe((info:any)=>{\n      info.map((response:any)=>{\n        const eventList=response.payload.doc.data();\n        this.addDynamicEvents(eventList);\n      });\n    });\n  }\n\n  getFilteredEvent(cat:string):void{\n    const events= this.firestore.getDataByColumnName(\"events\",\"category\",cat);\n    events.subscribe((info:any)=>{\n      info.map((response:any)=>{\n        const eventList=response.payload.doc.data();\n        if(eventList.user_id==this.cookie.get(\"user_id\"))\n        {\n          this.addDynamicEvents(eventList);\n        }\n\n      });\n    });\n  }\n  addDynamicEvents(eventList:any):void{\n    const calApi=this.calendarComponent.getApi();\n    calApi.addEvent(eventList);\n    calApi.currentData.options.eventClick=function(eventInfo){\n      console.log(eventInfo);\n      this.eventDetails.description=eventInfo.event._def.extendedProps.description;\n      this.eventDetails.title=eventInfo.event._def.title;\n      this.eventDetails.date=eventInfo.event._instance.range.start;\n      this.alert.open(this.eventDialog);\n    }.bind(this);\n  }\n\n  filter(el:any,cat:string):void{\n    if(cat==\"All\")\n    {\n      this.checkedAll =! this.checkedAll;\n\n      if(this.checkedAll)\n      {\n        this.filterEvents(cat,\"add\");\n        this.calendarCat.forEach((data)=>{\n          this.filterCat.push(data);\n        });\n      }\n      else{\n        this.filterEvents(cat,\"remove\");\n        this.filterCat=[];\n      }\n\n    }\n    else\n    {\n      if(el.checked)\n      {\n        this.filterEvents(cat,\"add\");\n        this.filterCat.push(cat);\n      }\n      else\n      {\n        const index=this.filterCat.indexOf(cat);\n        if(index !=-1)\n        {\n          this.filterEvents(cat,\"remove\");\n          this.filterCat.splice(index,1);\n        }\n      }\n    }\n\n\n  }\n\n  filterEvents(cat:string,action:string):void{\n    //add all events when all events uncheck\n    if(cat==\"All\" && action==\"add\")\n    {\n      this.allEvents();\n    }\n    const calApi=this.calendarComponent.getApi();\n    calApi.getEvents().forEach((data,index)=>{\n      //remove all events when all events uncheck\n      if(cat==\"All\" && action==\"remove\")\n      {\n        data.remove();\n      }\n      if(cat !=\"All\" && action==\"remove\")\n      {\n        if(data._def.extendedProps.category==cat)\n        {\n          data.remove();\n        }\n      }\n      if(cat !=\"All\" && action==\"add\" && index==0)\n      {\n        this.getFilteredEvent(cat);\n      }\n    });\n  }\n}\n","<mat-card fxLayout=\"row\" class=\"my-4 p-0\">\n  <mat-card-content class=\"p-4 mb-0 card-panel\" fxLayout=\"column\">\n    <button mat-button mat-raised-button color=\"primary\" (click)=\"addEvent(eventDialog)\">Add Event</button>\n    <h5 class=\"desc-text mt-5 mb-3\" style=\"color:black;\">FILTER</h5>\n    <div fxLayout=\"column\" fxLayoutGap=\"16px\">\n      <mat-checkbox #checkbox (change)=\"filter(checkbox, data)\" [checked]=\"checkedAll\" class=\"desc-text\" *ngFor=\"let data of calendarCat\">{{data}}</mat-checkbox>\n    </div>\n  </mat-card-content>\n  <mat-card-content class=\"p-4\" fxFlex=\"100%\">\n    <full-calendar #calendar [options]=\"calendar\"></full-calendar>\n\n  </mat-card-content>\n</mat-card>\n<ng-template #eventDialog>\n  <h1 mat-dialog-title>Add Event</h1>\n  <div mat-dialog-content>\n    <form fxLayout=\"column\" fxFlex=\"350px\" [formGroup]=\"eventForm\" (submit)=\"createEvent()\">\n      <mat-form-field>\n        <mat-label>Title</mat-label>\n        <input matInput formControlName=\"title\">\n      </mat-form-field>\n      <mat-form-field>\n        <mat-label>Description</mat-label>\n        <textarea matInput formControlName=\"description\"></textarea>\n      </mat-form-field>\n      <mat-form-field>\n        <mat-label>Event Date</mat-label>\n        <input matInput type=\"datetime-local\" formControlName=\"date\">\n      </mat-form-field>\n      <mat-form-field>\n        <mat-label>Choose Category</mat-label>\n        <mat-select formControlName=\"category\">\n          <mat-option [value]=\"data\" *ngFor=\"let data of calendarCat\">\n            {{data}}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n      <button mat-button mat-stroked-button color=\"primary\">Add Now</button>\n    </form>\n  </div>\n</ng-template>\n\n<ng-template #viewEvent>\n  <div fxFlex=\"320px\">\n    <h1 mat-dialog-title class=\"p-0 m-0\"> {{eventDetails.title}}</h1>\n    <p class=\"desc-text p-0 mt-0\">\n      {{eventDetails.date | date}}\n      {{eventDetails.date | date:'shortTime'}}\n    </p>\n    <div mat-dialog-content>\n      {{eventDetails.description}}\n    </div>\n  </div>\n\n</ng-template>\n"],"sourceRoot":"webpack:///"}